<!DOCTYPE HTML>
<html>
	<script src="functions.js" type="text/javascript"></script>
	<head>
		<link rel="stylesheet" type="text/css" href="styles.css">
		<!-- <link rel="stylesheet" type="text/css" href="background.css"> -->
		<title>ESP8266 SERVER (WIP)</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<span id="brush"></span>
	<form class="fade bottom-pane" autocomplete="off" >
		<div class="" style="display: flex; justify-content: center;">
			<!-- <div style="display: flex;">
			</div> -->
				<!-- <label><input id="notification_bell" type="checkbox" checked="true"/>Enable Sound</label> -->
				<div style="display: flex;">
					<div id="user_list" class="fade scroll">
						
					</div>
					<input id="sender" class="shadow" type="text" placeholder="Name?" style="max-height: 30px;" autocomplete="off" autofocus="on">
				</div>
				<textarea id="contents" class="shadow" rows="5" cols="80" placeholder="Say something..." type="text" autocomplete="off" maxlength="100" onkeyup="textarea_counter('textarea_label')"></textarea>
				<input id="send_button" class="shadow button" type="button" value="Send" onclick="send_message('sender', 'contents')">
				<label id="textarea_label" value="100 characters remaining"></label>
		</div>
	</form>
	<body class="background" onload="init_client(messages);">
		<div>
			
			<div class="fade shadow wrapper">
				<div>
					<h2><b>CONNECTED TO ESP8266@192.168.4.1</b></h2>
					<p>
						This is a local, test communication server using an ESP8266 MCU. It is updated frequently
						so expect bugs.
					</p>
					<p>
						Enter a name and send a message. The message will appear below and is visible to anyone else
						connected to the access point. It's just that easy! Messages are deleted every time the device is reset and the 
						oldest messages after hitting the 32 message limit.
					</p>	
					<p>
						It's not my fault if something breaks so use at your own risk!
					</p>
				</div>
				<div class="separator"></div>
				<div id="message_list">
				</div>
			</div> <!-- Wrapper -->
		</div>
	</body>
	<script>
		var input = document.getElementById("contents");
		input.addEventListener("keydown", function(event){
			if(event.keyCode === 13){
				event.preventDefault();
				document.getElementById("send_button").click();
			}
		});
	</script>
</html>